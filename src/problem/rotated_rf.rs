use crate::pso::population_format::Particle;
#[allow(dead_code)]
pub fn rotated_rf(particle:&Particle)->f32{
    let x=&particle.cur_place;
    let n = x.len();

    // rotated optimal vector
    let mut z = vec![0.0; n];
    for i in 0..n {
        z[i] = 0.0;
        for j in 0..n {
            z[i] += ROTATION_MATRIX_2[i * n + j] * (x[j]);
        }
    }

    let mut sum = 0.0;
    let d = x.len();
    
    // Compute the Rosenbrock function value
    for i in 0..d - 1 {
        let zi = z[i];
        let zi1 = z[i + 1];
        let zi_square=zi.powi(2);
        sum += 100.0 * (zi1 - zi_square).powi(2) + (1.0-zi-zi+zi_square);
    }
    sum
}

// const ROTATION_MATRIX_1:[f32;100]=[
// 3.1911842062536983e-001, -3.5026796034077642e-002,  2.2869946075488337e-001, -5.1509331368533506e-001, -1.7008045728342708e-001, -5.7237450740736251e-001,  1.1845882795972437e-001, -2.0491829853532229e-001, -4.3974614726204161e-002, -4.0597325479415658e-001,
// 1.2233915929669359e-001,-1.5022109881926649e-001,  2.6882942116798386e-001, -3.0054326848530288e-001, -1.1108437105237511e-001 , 1.9173291603598250e-001 , 6.6801035526790720e-001,  1.9307785478280515e-001, -1.1655133923520550e-002,  5.1683387482975995e-001,
// -1.1075664391258927e-001, 6.7449929550623544e-001, -4.0948119762886348e-001, -2.8258063556377999e-001, -4.4045117485500739e-002,  3.7692010649014653e-002,  1.5192993555436585e-001, -4.5754307044819398e-001,  8.8177317642546965e-003,  2.2223910618150977e-001,
// 2.2748291664969006e-001 ,-1.2968407052013554e-002, -4.8917380393104509e-001, -3.6957905000753910e-002, -3.8525653777806751e-001,  1.5793048439861379e-001,  6.9906258466945759e-002,  3.5046134230980142e-001, -6.0494550985888951e-001, -2.0097935398612143e-001,
// -2.5070477463827334e-001 ,-2.6197545428930169e-001, -4.6915789188729673e-001,  1.4390092083207878e-001, -2.9169885467596035e-001, -2.0821350998471599e-001,  3.8664165267949197e-001,  6.5180359260975207e-002,  5.5758523931022619e-001, -1.8605574785759948e-001,
// -2.4904830387808322e-001 ,-5.8868362051936729e-001, -1.9172599350000064e-001, -2.7051815821793651e-001, -1.8254381003164027e-001, -6.8694070532023671e-002, -3.3049303334483676e-001, -3.8458616134186968e-001, -1.9933962012677192e-001,  3.8285512157200557e-001,
// -2.8555942595205203e-001  ,1.3164314049088477e-001,  2.7976621949385494e-001, -3.6024983448930420e-001, -5.1934114733364123e-001,  4.6512328246664025e-001, -2.6729951455885809e-001,  1.2814791890673716e-001,  2.5747833714015500e-001, -2.2990412803128102e-001,
// -2.6753711953072012e-001 ,-5.5055020163516308e-002,  2.9669679916581859e-001,  4.0528764177341675e-001, -2.1828460126961849e-001,  1.5623249086528099e-001,  3.7382416626237164e-001, -5.1450089009649003e-001, -3.4780274814931950e-001, -2.7500288735400086e-001,
//  7.3533135953795337e-001 ,-1.1968080782430886e-001, -6.8564093069546847e-002,  1.9650634094010480e-001, -2.2074693743882634e-001,  3.3010031395363704e-001, -1.0399902597756989e-001, -3.6998649810218587e-001,  3.0606279771136785e-001,  5.0723259402815128e-002,
// -2.1693457404149318e-002 ,-2.6688059998130520e-001, -2.0148024750259119e-001, -3.6958708423281733e-001,  5.6909336582768999e-001,  4.5986625139942061e-001,  1.7616280310329335e-001, -1.3558230198635232e-001,  1.7880260414562907e-002, -4.0747442934150835e-001,
// ];
const ROTATION_MATRIX_2:[f32;100]=[
-3.2670997288815656e-001,-1.8824162862069599e-001,-8.4632423309611363e-002,7.9035262852970245e-002,4.4762777686223604e-001,4.2773009495199321e-001,-8.4653047284035943e-002,4.5205437103022122e-001,-3.9021008533080381e-001,-3.1194486499701618e-001
,-3.1081070143846518e-001,-3.9541745503313408e-001,2.2171718893178177e-002,7.6874324825979068e-001,-1.1371013765027858e-001,-4.1562962326277639e-002,3.0476248328719824e-001,-1.4557372738648036e-001,7.4388919644586368e-002,1.4601681180779380e-001
,-1.0596932922667730e-001,2.1877188396512615e-001,-4.5020421547288042e-001,6.3649144042598749e-003,-6.1027861033712927e-001,5.7645530255824695e-001,7.1484771895464648e-003,-1.0274447368219622e-001,-1.4379819891071435e-001,4.6463626567554400e-002
,-2.1860220237064915e-001,8.1693140716730811e-003,2.0036594432883387e-002,-2.5836862952697298e-002,2.5486713676710582e-001,1.7950830471502994e-002,-4.4027253642780995e-001,-4.6923178485552197e-001,-4.0816232345503084e-001,5.5243369245967378e-001
,-2.4790858773666263e-001,8.3576423304264302e-001,2.8748046349022982e-001,3.6653629805343635e-001,5.3577242818947435e-002,-6.5330840982872701e-002,-1.8056617686841050e-002,1.0725550435772088e-001,-1.6367210217921657e-002,-6.1719480348878239e-002
,3.7847176970314325e-003,-6.8197740933634413e-002,-1.7020188624324264e-001,2.2319171313937192e-001,-1.2085790709428558e-001,-2.4351517939239814e-001,-5.4844749307103746e-001,-3.2971518836084268e-001,-3.1170700543192719e-002,-6.5739400224131628e-001
,-2.2523279094777540e-002,1.8409895023330464e-001,-8.1924565911984815e-001,8.7451437207422711e-002,2.8764407897494959e-001,-3.7927399877990298e-001,9.1036065824774193e-002,1.5107808571863338e-001,7.0959759584184295e-002,1.5509271904285354e-001
,1.4040194204403042e-001,1.5904888140287732e-002,-4.9037309181502987e-002,1.7918931538566082e-001,2.9611653416713529e-001,4.5887204852747154e-001,-3.5878132717665395e-001,-2.7534902100978476e-002,7.0813105882752714e-001,1.2782994170328124e-001
,-7.6439125311917289e-001,-1.0396490111308937e-001,2.5412007356765021e-002,-3.3942780805061534e-001,-2.2255658591138849e-001,-1.9339838595880832e-001,-1.9602573138607593e-001,1.8071100021734743e-001,3.5806329018259092e-001,5.3047734448446182e-002
,2.6768245484351272e-001,-1.1034208577996130e-001,5.8590872107796260e-002,2.5089437968448269e-001,-3.3446888012746334e-001,-1.6526801787725953e-001,-4.7906606625005865e-001,6.0602406525469010e-001,-1.3781970746801833e-001,3.0796617127465375e-001
];